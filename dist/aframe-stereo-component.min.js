!function(e){function t(a){if(r[a])return r[a].exports;var i=r[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){!function(){if(!AFRAME)return void console.error("Component attempted to register before AFRAME was available.");var e={stereo:r(1).stereo_component,stereocam:r(1).stereocam_component};Object.keys(e).forEach(function(t){AFRAME.aframeCore?AFRAME.aframeCore.registerComponent(t,e[t]):AFRAME.registerComponent(t,e[t])})}()},function(e,t){e.exports={stereo_component:{schema:{eye:{type:"string",default:"left"},mode:{type:"string",default:"full"},split:{type:"string",default:"horizontal"}},init:function(){this.material_is_a_video=!1,null!==this.el.getAttribute("material")&&"src"in this.el.getAttribute("material")&&("VIDEO"===this.el.getAttribute("material").src.tagName||null!==document.querySelector(this.el.getAttribute("material").src)&&"VIDEO"===document.querySelector(this.el.getAttribute("material").src).tagName)&&(this.material_is_a_video=!0);var e=this.el.object3D.children[0],t=[THREE.SphereGeometry,THREE.SphereBufferGeometry,THREE.BufferGeometry],r=t.some(function(t){return e.geometry instanceof t});if(r&&this.material_is_a_video){if("half"===this.data.mode)var a=this.el.getAttribute("geometry"),i=new THREE.SphereGeometry(a.radius||100,a.segmentsWidth||64,a.segmentsHeight||64,Math.PI/2,Math.PI,0,Math.PI);else var a=this.el.getAttribute("geometry"),i=new THREE.SphereGeometry(a.radius||100,a.segmentsWidth||64,a.segmentsHeight||64);if(e.rotation.y=Math.PI/2,"left"===this.data.eye)for(var o=i.faceVertexUvs[0],s="vertical"===this.data.split?"y":"x",n=0;n<o.length;n++)for(var l=0;l<3;l++)"x"==s?o[n][l][s]*=.5:(o[n][l][s]*=.5,o[n][l][s]+=.5);if("right"===this.data.eye)for(var o=i.faceVertexUvs[0],s="vertical"===this.data.split?"y":"x",n=0;n<o.length;n++)for(var l=0;l<3;l++)"x"==s?(o[n][l][s]*=.5,o[n][l][s]+=.5):o[n][l][s]*=.5;e.geometry=(new THREE.BufferGeometry).fromGeometry(i)}},update:function(e){var t=this.el.object3D.children[0],r=this.data;"both"===r.eye?t.layers.set(0):t.layers.set("left"===r.eye?1:2)}},stereocam_component:{schema:{eye:{type:"string",default:"left"}},init:function(){this.layer_changed=!1},tick:function(e){var t=this.data;if(!this.layer_changed){var r=[];this.el.object3D.children.forEach(function(e,t,a){r[t]=e.type});var a=r.indexOf("PerspectiveCamera"),i=this.el.object3D.children[a];"both"===t.eye?(i.layers.enable(1),i.layers.enable(2)):i.layers.enable("left"===t.eye?1:2)}}}}}]);